
//#include <stdbool.h>
//#include <stdint.h>

#define _X86_
#define _M_AMD64
#define _WIN64
#define WIN32_LEAN_AND_MEAN
#include <windows.h>

LRESULT main_wnd_proc(HWND wnd, UINT message, WPARAM wparam, LPARAM lparam) {
	if (message == WM_QUIT) {
		ExitProcess(0);
	}

	return DefWindowProcA(wnd, message, wparam, lparam);
}

void WinMain() {
	char name[4];
	name[0] = 84;
	name[1] = 83;
	name[2] = 84;
	name[3] = 0;

	WNDCLASSA wc;
	wc.hInstance = GetModuleHandleA(0);
	wc.lpfnWndProc = main_wnd_proc;
	wc.lpszClassName = &name;
	RegisterClassA(&wc);
	
	HWND window = CreateWindowExA(262144, &name,
									&name, 13565952,
									100, 100, 1600, 900,
								    0, 0, wc.hInstance, 0);

	// Display the window
	ShowWindow(window, SW_SHOWDEFAULT);
	SetFocus(window);
	
	while (1) {
		MSG msg;
		GetMessageA(&msg, 0, 0, 0);
		TranslateMessage(&msg);
		DispatchMessageA(&msg);
	}

	ExitProcess(0);
}

